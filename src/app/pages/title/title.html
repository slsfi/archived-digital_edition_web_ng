<ion-header class="ion-no-border">
  <ion-toolbar class="secondary">

    <text-changer slot="start" *ngIf="!(userSettingsService.isMobile())" [textItemID]="id" [parentPageType]="'page-title'" class="text-changer-desktop-view"></text-changer>

    <ion-buttons slot="end" class="secondary-toolbar-buttons-wrapper">
      <ion-button *ngIf="showURNButton" (click)="showReference()">
        <ion-icon slot="start" class="urn-icon" name="arrow-redo-sharp"></ion-icon>
        <span *ngIf="!(userSettingsService.isMobile())" class="side-title">{{'Reference.refer' | translate }}</span>
      </ion-button>
      <!--
      <ion-button (click)="showSharePopover($event)">
        <ion-icon slot="start" class="share-icon" name="social-share"></ion-icon>
        <span *ngIf="!(userSettingsService.isMobile())" class="side-title">{{'Reference.share' | translate }}</span>
      </ion-button>
      -->
      <ion-button *ngIf="showViewOptionsButton" #settingsIconElement (click)="showReadSettingsPopover($event)" id="settings-icon">
        <ion-icon slot="start" class="settings-icon" name="settings-sharp"></ion-icon>
        <span *ngIf="!(userSettingsService.isMobile())" class="side-title">{{'Read.Popover.Options' | translate }}</span>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="publication-ion-content" [ngClass]="printMainContentClasses()">
  <div *ngIf="hasDigitalEditionListChildren">
    <digital-edition-list-children [layoutType]="'auto'" [childrenPdfs]="childrenPdfs" [collectionID]="id"></digital-edition-list-children>
  </div>

  <div class="scroll-content-container" *ngIf="!hasDigitalEditionListChildren">
    
    <ion-spinner *ngIf="(text$ | async) === null" class="loading" name="crescent"></ion-spinner>

    <div *ngIf="hasMDTitle && mdContent && !hasDigitalEditionListChildren" class="tei teiContainer md_content" [ngClass]="((readPopoverService.fontsize==0)?'xsmallFontSize':(readPopoverService.fontsize==1)?'smallFontSize':(readPopoverService.fontsize==2)?'mediumFontSize':(readPopoverService.fontsize==3)?'largeFontSize':'xlargeFontSize')">
      <markdown [data]="mdContent"></markdown>
    </div>
    <div *ngIf="!hasMDTitle && !hasDigitalEditionListChildren" class="tei teiContainer"
    [innerHTML]="text$ | async" [ngClass]="((readPopoverService.fontsize==0)?'xsmallFontSize':(readPopoverService.fontsize==1)?'smallFontSize':(readPopoverService.fontsize==2)?'mediumFontSize':(readPopoverService.fontsize==3)?'largeFontSize':'xlargeFontSize')"></div>
  </div>

</ion-content>

<text-changer *ngIf="(userSettingsService.isMobile())" [textItemID]="id" [parentPageType]="'page-title'" class="text-changer-mobile-view"></text-changer>
