<ion-spinner *ngIf="!text" class="loading" name="crescent"></ion-spinner>

<div id="ms" *ngIf="text && manuscripts.length>0" class="text-select-wrapper">
  <h3 [innerHTML]="selectedManuscript.name"></h3>
  <div class="flex-buttons">
    <ion-button *ngIf="manuscripts.length>1" class="custom-button" (click)="selectManuscript()" i18n="@@Read.Manuscripts.ChangeManuscript">Byt manuskript</ion-button>
    <!--
    <ion-button fill="outline" class="custom-outline-button" (click)="openFacsimileMan($event, selectedManuscript)" i18n="@@Read.Manuscripts.OpenFacsimile">Öppna faksimil</ion-button>
    -->
    <ion-button *ngIf="showOpenLegendButton" fill="outline" slot="icon-only" class="circular-icon-button align-right" (click)="openNewLegend($event)" title="Teckenförklaringar" i18n-title="@@Read.Legend.Title">
      <ion-icon name="help-outline"></ion-icon>
    </ion-button>
  </div>
  <div class="show-normalized-toggle">
    <ion-toggle (ionChange)="toggleNormalizedManuscript()" justify="space-between" [enableOnOffLabels]="true" i18n="@@Read.Manuscripts.ShowNormalized">Visa ändringar inarbetade</ion-toggle>
  </div>
</div>

<div class="tei teiContainer teiManuscript" [innerHTML]="text" [attr.lang]="textLanguage ? textLanguage : null"
  [class.show_personInfo]="readPopoverService.show.personInfo"
  [class.show_placeInfo]="readPopoverService.show.placeInfo"
  [class.show_workInfo]="readPopoverService.show.workInfo"
  [class.show_abbreviations]="readPopoverService.show.abbreviations"
  [class.show_pageBreakOriginal]="readPopoverService.show.pageBreakOriginal"
  [ngClass]="(readPopoverService.fontsize==0)?'xsmallFontSize':(readPopoverService.fontsize==1)?'smallFontSize':(readPopoverService.fontsize==2)?'mediumFontSize':(readPopoverService.fontsize==3)?'largeFontSize':'xlargeFontSize'">
</div>
