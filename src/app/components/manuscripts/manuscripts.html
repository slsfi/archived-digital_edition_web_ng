<ion-spinner *ngIf="!text" class="loading" name="crescent"></ion-spinner>

<div id="ms" *ngIf="text && manuscripts.length>0" class="text-select-wrapper">
  <h3 [innerHTML]="selectedManuscriptName"></h3>
  <div class="flex-buttons">
    <ion-button *ngIf="manuscripts.length>1" (click)="selectManuscript()">{{"Read.Manuscripts.ChangeManuscript" | translate}}</ion-button>
    <!-- Doesn't always open the correct facsimile so hidden until further.
    <ion-button fill="outline" (click)="openFacsimileMan($event, selectedManuscript)">{{"Read.Manuscripts.OpenFacsimile" | translate}}</ion-button>
    -->
    <ion-button *ngIf="showOpenLegendButton" fill="outline" class="circular-icon-button align-right" (click)="openNewLegend($event)" title="{{ 'Read.Legend.Title' | translate }}">
      <ion-icon name="help"></ion-icon>
    </ion-button>
  </div>
  <ion-item class="show-normalized-toggle">
    <ion-label>{{"Read.Manuscripts.ShowNormalized" | translate}}</ion-label>
    <ion-toggle [(ngModel)]="showNormalizedMs" (ionChange)="changeManuscript()" slot="end" [enableOnOffLabels]="true"></ion-toggle>
  </ion-item>
</div>

<div class="tei teiContainer teiManuscript" [innerHTML]="text"
  [class.show_personInfo]="readPopoverService.show.personInfo"
  [class.show_placeInfo]="readPopoverService.show.placeInfo"
  [class.show_workInfo]="readPopoverService.show.workInfo"
  [class.show_abbreviations]="readPopoverService.show.abbreviations"
  [class.show_pageBreakOriginal]="readPopoverService.show.pageBreakOriginal"
  [ngClass]="(readPopoverService.fontsize==0)?'xsmallFontSize':(readPopoverService.fontsize==1)?'smallFontSize':(readPopoverService.fontsize==2)?'mediumFontSize':(readPopoverService.fontsize==3)?'largeFontSize':'xlargeFontSize'">
</div>
