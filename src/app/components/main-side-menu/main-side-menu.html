<ng-container *ngIf="aboutPagesLoaded && collectionsLoaded && mediaCollectionsLoaded">
  <ul role="menu">
    <!-- Home -->
    <li *ngIf="_config.show?.TOC?.Home" [class.menu-highlight]="!urlRootSegment" role="menuitem">
      <a routerLink="/" i18n="@@TOC.Home">Hem</a>
    </li>

    <!-- About-pages -->
    <ng-container *ngIf="_config.show?.TOC?.About && aboutPagesMenu.children">
      <li (click)="toggleAccordion('/about')"
            (keyup.enter)="toggleAccordion('/about')"
            role="menuitem"
            aria-haspopup="menu"
            [attr.aria-expanded]="selectedMenu.includes('/about')"
            tabIndex="0"
      >
        <span>
          {{aboutPagesMenu.title}}
        </span>
        <ion-icon [class.open]="selectedMenu.includes('/about')"
                  name="chevron-forward-outline"></ion-icon>
      </li>
      <li [class.open]="selectedMenu.includes('/about')"
          class="accordion-list" role="menuitem">
        <app-recursive-accordion
          [children]="aboutPagesMenu.children"
          [parentPath]="'/about'">
        </app-recursive-accordion>
      </li>
    </ng-container>

    <!-- Epubs -->
    <ng-container *ngIf="_config.show?.TOC?.EPUB">
      <li *ngIf="epubsList.length > 1"
            (click)="toggleAccordion('/ebook')"
            (keyup.enter)="toggleAccordion('/ebook')"
            role="menuitem"
            aria-haspopup="menu"
            [attr.aria-expanded]="selectedMenu.includes('/ebook')"
            tabIndex="0"
      >
        <span i18n="@@TOC.Ebooks">E-böcker</span>
        <ion-icon [class.open]="selectedMenu.includes('/ebook')"
                  name="chevron-forward-outline"></ion-icon>
      </li>
      <li *ngIf="epubsList.length"
            [class.open]="selectedMenu.includes('/ebook')"
            [class.accordion-list]="epubsList.length > 1"
            [class.no-indent]="epubsList.length == 1"
            role="menuitem"
      >
        <app-recursive-accordion
          [children]="epubsList"
          [parentPath]="'/ebook'">
        </app-recursive-accordion>
      </li>
    </ng-container>

    <!-- Collections -->
    <ng-container *ngIf="_config.show?.TOC?.Read &&_config.collections.order">
      <ng-container *ngFor="let collection of collectionsList; let i = index">
        <li (click)="toggleAccordion('/collection' + i)"
              (keyup.enter)="toggleAccordion('/collection' + i)"
              role="menuitem"
              aria-haspopup="menu"
              [attr.aria-expanded]="selectedMenu.includes('/collection' + i)"
              tabIndex="0"
        >
          <span *ngIf="i == 0" i18n="@@TOC.Read">Innehåll</span>
          <span *ngIf="i == 1" i18n="@@TOC.Read1">Innehåll 2</span>
          <span *ngIf="i == 2" i18n="@@TOC.Read2">Innehåll 3</span>
          <span *ngIf="i == 3" i18n="@@TOC.Read3">Innehåll 4</span>
          <span *ngIf="i == 4" i18n="@@TOC.Read4">Innehåll 5</span>
          <ion-icon *ngIf="collection.length" [class.open]="selectedMenu.includes('/collection' + i)"
                    name="chevron-forward-outline"></ion-icon>
        </li>
        <li [class.open]="selectedMenu.includes('/collection' + i)" class="accordion-list" role="menuitem">
          <app-recursive-accordion
            [children]="collection"
            [parentPath]="'/collection'">
          </app-recursive-accordion>
        </li>
      </ng-container>
    </ng-container>

    <!-- Media collections -->
    <ng-container *ngIf="_config.show?.TOC?.MediaCollections">
      <li (click)="toggleAccordion('/media-collection')"
            (keyup.enter)="toggleAccordion('/media-collection')"
            role="menuitem"
            aria-haspopup="menu"
            [attr.aria-expanded]="selectedMenu.includes('/media-collection')"
            tabIndex="0"
      >
        <span i18n="@@TOC.MediaCollections">Bildbank</span>
        <ion-icon [class.open]="selectedMenu.includes('/media-collection')"
                  name="chevron-forward-outline"></ion-icon>
      </li>
      <li *ngIf="mediaCollectionsList" [class.open]="selectedMenu.includes('/media-collection')"
          class="accordion-list" role="menuitem">
        <app-recursive-accordion
          [children]="mediaCollectionsList"
          [parentPath]="'/media-collection'">
        </app-recursive-accordion>
      </li>
    </ng-container>

    <!-- Index of persons -->
    <li *ngIf="_config.show?.TOC?.PersonSearch" [class.menu-highlight]="urlRootSegment === 'persons'" role="menuitem">
      <ng-container *ngFor="let ps of _config.PersonSearchTypes; let j = index">
        <a routerLink="{{'/persons/' + ps.object_type +'/' + ps.object_subtype}}">
          <ng-container *ngIf="j == 0" i18n="@@TOC.PersonSearch">Personregister</ng-container>
          <ng-container *ngIf="j == 1" i18n="@@TOC.PersonSearch2">Personregister 2</ng-container>
          <ng-container *ngIf="j == 2" i18n="@@TOC.PersonSearch3">Personregister 3</ng-container>
        </a>
      </ng-container>
    </li>

    <!-- Index of places -->
    <li *ngIf="_config.show?.TOC?.PlaceSearch" [class.menu-highlight]="urlRootSegment === 'places'" role="menuitem">
      <a routerLink="/places" i18n="@@TOC.PlaceSearch">Ortregister</a>
    </li>

    <!-- Index of tags -->
    <li *ngIf="_config.show?.TOC?.TagSearch" [class.menu-highlight]="urlRootSegment === 'keywords'" role="menuitem">
      <a routerLink="/keywords" i18n="@@TOC.TagSearch">Ämnesord</a>
    </li>

    <!-- Index of works -->
    <li *ngIf="_config.show?.TOC?.WorkSearch" [class.menu-highlight]="urlRootSegment === 'works'" role="menuitem">
      <a routerLink="/works" i18n="@@TOC.WorkSearch">Verkregister</a>
    </li>
  </ul>
</ng-container>
